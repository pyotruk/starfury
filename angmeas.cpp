#include "angmeas.h"
/////////////////////////////////////////////////////////////////////////////////////
AngMeas::AngMeas(QSettings *settings) :
    _settings(settings)
{
}
/////////////////////////////////////////////////////////////////////////////////////
AngMeas::~AngMeas()
{
    this->exit();
    this->terminate();
}
/////////////////////////////////////////////////////////////////////////////////////
void AngMeas::inputFrame(Frame *frame)
{
    if(_mutex.tryLock())
    {
        _frame = *frame;
        _mutex.unlock();
        this->start(QThread::NormalPriority);
    }
}
/////////////////////////////////////////////////////////////////////////////////////
void AngMeas::run()
{
    if(_mutex.tryLock(_timeout))
    {
        cv::floodFill(_frame.asCvMat(), cv::Point(100, 100), 0xFF);
        //emit frame4Gui(&_frame);
        _mutex.unlock();
    }
}
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
