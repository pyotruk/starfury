#include "strobwnd.h"
/////////////////////////////////////////////////////////////////////////////////////
void StrobWindow::drawAll()
{
    draw::artifactMarks(_img, _artifactBox.data());
    draw::starMarks(_img, _starBox.data());
    draw::starConfig(_img, _eqPicStars, 2, Qt::yellow);
    draw::starConfig(_img, _eqCatStars, 1, Qt::cyan);
    _eqPicStars.clear();
    _eqCatStars.clear();
}
/////////////////////////////////////////////////////////////////////////////////////
void StrobWindow::inputScreenStars(ArtifactBox *a)
{
    a->lock().lockForRead();
    _artifactBox = *a;
    a->lock().unlock();
}
/////////////////////////////////////////////////////////////////////////////////////
void StrobWindow::inputCatStars(ArtifactBox *a)
{
    a->lock().lockForRead();
    _starBox = *a;
    a->lock().unlock();

    draw::convertStarMagn(_starBox.data());
}
/////////////////////////////////////////////////////////////////////////////////////
void StrobWindow::inputEquatedStars(ArtifactBox *pic,
                                    ArtifactBox *cat)
{
    pic->lock().lockForRead();
    cat->lock().lockForRead();
    _eqPicStars = pic->data();
    _eqCatStars = cat->data();
    cat->lock().unlock();
    pic->lock().unlock();
}
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
