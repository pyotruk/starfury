#include "starcat.h"
/////////////////////////////////////////////////////////////////////////////////////
StarCat::StarCat(QSettings *settings) :
    _settings(settings)
{
}
/////////////////////////////////////////////////////////////////////////////////////
StarCat::~StarCat()
{
    this->exit();
    this->terminate();
}
/////////////////////////////////////////////////////////////////////////////////////
void StarCat::inputDataFromSN(PackFromSN *pack)
{
    qDebug() << "starCat: slot inputDataFromSN";
    if(_mutex.tryLock())
    {
        qDebug() << "starCat: mutex is locked";
        _snPack = *pack;
        _mutex.unlock();
        this->start(QThread::NormalPriority);
    }
}
/////////////////////////////////////////////////////////////////////////////////////
void StarCat::run()
{
    if(_mutex.tryLock(_timeout))
    {
        //ololo
        qDebug() << "starCat: run: mutex is locked";
        _mutex.unlock();
    }
}
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
