#include "adapters.h"
/////////////////////////////////////////////////////////////////////////////////////
void winfiletime2qdatetime(const qint64 &fileTime,
                           QDateTime    &qtTime)
{
    FILETIME ftime;
    SYSTEMTIME sysTime;
    qint32 *p = (qint32*)(&fileTime);
    ftime.dwLowDateTime = *p;
    ++p;
    ftime.dwHighDateTime = *p;
    FileTimeToSystemTime(&ftime, &sysTime);
    QDate date(sysTime.wYear,
               sysTime.wMonth,
               sysTime.wDay);
    QTime time(sysTime.wHour,
               sysTime.wMinute,
               sysTime.wSecond,
               sysTime.wMilliseconds);
    qtTime.setDate(date);
    qtTime.setTime(time);
}
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
